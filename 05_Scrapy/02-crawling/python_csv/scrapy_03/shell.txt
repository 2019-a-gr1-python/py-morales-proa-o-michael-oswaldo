fetch('https://www.fybeca.com/FybecaWeb/pages/search-results.jsf?cat=238&s=0&pp=25')
contenedor.css('a.name::text').extract()
response.css('div.product-title-inner').extract()
response.css('div.product-tile-inner').extract()
titulo = contenedor.css('a.name::text')
contenedor = response.css('div.product-tile-inner')
titulo = contenedor.css('a.name::text')
imagen = contenedor.xpath('//div[contains(@class,"detail")]/a[contains(@class,"image")]/img[contains(@id,"gImg")]/@src').extract()
imagen
class ProductoFybeca(scrapy.Item)
class ProductoFybeca(scrapy.Item):
    titulo = scrapy.Field()
    imagen = scrapy.Field()
primer_producto = ProductoFybeca()
primer_producto['titulo'] = titulo.extract_first()
primer_producto
primer_producto['imagen'] = imagen.extract_first()
imagen = contenedor.xpath('//div[contains(@class,"detail")]/a[contains(@class,"image")]/img[contains(@id,"gImg")]/@src')
primer_producto['imagen'] = imagen.extract_first()
primer_producto
def transformar_url_imagen(texto):
    url = 'https://www.fybeca.com'
    cadena_a_remplazar = '../..'
    return texto.replace(cadena_a_remplazar,url)
primer_transformado = tranformar_url_imagen(primer_producto)
primer_transformado = transformar_url_imagen(primer_producto)
def transformar_url_imagen(texto):
    url = 'https://www.fybeca.com'
    cadena_a_remplazar = '../../'
    return texto.replace(cadena_a_remplazar,url)
from scrapy.loader.processors import MapCompose
class ProductoFybeca(scrapy.Item):
    imagen = scrapy.Field(
    input_processor = MapCompose(transformar_url_imagen)
    )
    titulo = scrapy.Field()
primer_producto['imagen'] = imagen.extract_first()
primer_producto['titulo'] = titulo.extract_first()
def transformar_url_imagen(texto):
    url = 'https://www.fybeca.com'
    cadena_a_remplazar = '../../'
    return texto.replace(cadena_a_remplazar,url)
primer_transformado = transformar_url_imagen(primer_producto)
primer_transformado
primer_producto
class ProductoFybecaDos(scrapy.Item):
    imagen = scrapy.Field(
    input_processor = MapCompose(transformar_url_imagen)
    )
    titulo = scrapy.Field()
from scrapy.loader import ItemLoader
il = ItemLoader(item = ProductoFybecaDos())
il.add_value('imagen',imagen.extract_first())
il.add_value('titulo',titulo.extract_first())
il
il-loadItem()
il.loadItem()
%history -f shell.txt
